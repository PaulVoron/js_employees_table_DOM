{"version":3,"sources":["scripts/main.js"],"names":["table","document","querySelector","headers","querySelectorAll","tableBody","sortColumn","index","isASC","sortedRows","Array","from","rows","sort","a","b","salaryToNumber","cells","innerHTML","localeCompare","tBodies","append","forEach","header","dataset","sorted","addEventListener","evnt","order","target","pushNotification","posTop","posRight","title","description","type","div","createElement","h2","p","classList","add","qa","style","top","right","boxSizing","innerText","body","setTimeout","remove","form","className","after","button","formValidation","personName","personAge","value","length","saveDataToTable","position","office","age","salary","tr","numberWithComma","x","toString","replace","text","slice","unselectTable","e","preventDefault","reset","row","contains","closest","toggle","trs","input","findIndex","n","tempValue","placeholder","focus","onblur","inputValidation","ev","code","i"],"mappings":"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","file":"main.42627f21.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst table = document.querySelector('table');\nconst headers = table.querySelectorAll('th');\nconst tableBody = table.querySelector('tbody');\n\nheaders.forEach(function(header) {\n  header.dataset.sorted = 'DESC';\n});\n\nfunction sortColumn(index, isASC) {\n  let sortedRows = [];\n\n  if (isASC) {\n    if (index === 4) {\n      sortedRows = Array.from(tableBody.rows).sort((a, b) =>\n        (salaryToNumber(a.cells[index].innerHTML)\n        - salaryToNumber(b.cells[index].innerHTML)));\n    } else {\n      sortedRows = Array.from(tableBody.rows).sort((a, b) =>\n        (a.cells[index].innerHTML.localeCompare(b.cells[index].innerHTML)));\n    }\n  } else {\n    if (index === 4) {\n      sortedRows = Array.from(tableBody.rows).sort((a, b) =>\n        (salaryToNumber(b.cells[index].innerHTML)\n        - salaryToNumber(a.cells[index].innerHTML)));\n    } else {\n      sortedRows = Array.from(tableBody.rows).sort((a, b) =>\n        (b.cells[index].innerHTML.localeCompare(a.cells[index].innerHTML)));\n    }\n  }\n\n  table.tBodies[0].append(...sortedRows);\n}\n\nheaders.forEach(function(header, index) {\n  header.addEventListener('click', (evnt) => {\n    let order;\n\n    if (evnt.target.dataset.sorted === 'ASC') {\n      evnt.target.dataset.sorted = 'DESC';\n      order = false;\n    } else {\n      evnt.target.dataset.sorted = 'ASC';\n      order = true;\n    }\n    sortColumn(index, order);\n  });\n});\n\nconst pushNotification = (posTop, posRight, title, description, type) => {\n  const div = document.createElement('div');\n  const h2 = document.createElement('h2');\n  const p = document.createElement('p');\n\n  div.classList.add('notification', type);\n  div.dataset.qa = 'notification';\n  div.style.top = `${posTop}px`;\n  div.style.right = `${posRight}px`;\n  div.style.boxSizing = 'content-box';\n  h2.classList.add('title');\n  h2.innerText = `${title}`;\n  p.innerText = `${description}`;\n\n  div.append(h2, p);\n  document.body.append(div);\n\n  setTimeout(() => {\n    div.remove();\n  }, 2000);\n};\n\nconst form = document.createElement('form');\n\nform.className = 'new-employee-form';\n\nform.innerHTML = `\n  <label>Name: \n    <input name=\"name\" type=\"text\" data-qa=\"name\" \n      required pattern=\"[A-Za-z]{4,}\">\n  </label>\n  <label>Position: \n    <input name=\"position\" type=\"text\" data-qa=\"position\" required>\n  </label>\n  <label>Office: \n    <select name=\"office\" data-qa=\"office\" required> \n      <option value=\"Tokyo\">Tokyo</option>\n      <option value=\"Singapore\">Singapore</option>\n      <option value=\"London\">London</option>\n      <option value=\"New York\">New York</option>\n      <option value=\"Edinburgh\">Edinburgh</option>\n      <option value=\"San Francisco\">San Francisco</option>\n    </select>\n  </label>\n  <label>Age: \n    <input name=\"age\" type=\"number\" \n      data-qa=\"age\" required \n      min=\"18\" max=\"90\">\n  </label>\n  <label>Salary: \n    <input name=\"salary\" type=\"number\" data-qa=\"salary\" required>\n  </label>\n  <button type=\"submit\">Save to table</button>\n`;\n\ntable.after(form);\n\nconst button = form.querySelector('button');\n\nbutton.addEventListener('click', (e) => {\n  e.preventDefault();\n\n  const personName = form.querySelector('[data-qa=\"name\"]');\n  const position = form.querySelector('[data-qa=\"position\"]');\n  const office = form.querySelector('[data-qa=\"office\"]');\n  const age = form.querySelector('[data-qa=\"age\"]');\n  const salary = form.querySelector('[data-qa=\"salary\"]');\n\n  if (formValidation(personName, age)) {\n    saveDataToTable(personName, position, office, age, salary);\n    form.reset();\n    unselectTable();\n  };\n});\n\nfunction formValidation(personName, personAge) {\n  if (personName.value.length < 4\n    || personAge.value < 18\n    || personAge.value > 90) {\n    pushNotification(450, 20, 'Error',\n      'Check your entries, please', 'error');\n\n    return false;\n  }\n\n  pushNotification(450, 20, 'Success',\n    'The data was saved succesfully', 'success');\n\n  return true;\n};\n\nfunction saveDataToTable(personName, position, office, age, salary) {\n  const tr = document.createElement('tr');\n\n  tr.innerHTML = `\n    <td>${personName.value}</td>\n    <td>${position.value}</td>\n    <td>${office.value}</td>\n    <td>${age.value}</td>\n    <td>$${numberWithComma(salary.value)}</td>\n  `;\n\n  tableBody.append(tr);\n};\n\nfunction numberWithComma(x) {\n  return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n}\n\nfunction salaryToNumber(text) {\n  return +text.slice(1).replace(/,/g, '');\n};\n\nfunction unselectTable() {\n  const trs = tableBody.querySelectorAll('tr');\n\n  trs.forEach(function(tr) {\n    tr.classList.remove('active');\n  });\n};\n\ntableBody.addEventListener('click', (e) => {\n  const row = e.target;\n\n  if (!row || !tableBody.contains(row)) {\n    return;\n  }\n\n  unselectTable();\n  row.closest('tr').classList.toggle('active');\n});\n\ntableBody.addEventListener('dblclick', (e) => {\n  const row = e.target;\n\n  if (!row || !tableBody.contains(row)) {\n    return;\n  }\n\n  const trs = tableBody.querySelectorAll('td');\n  const index = Array.from(trs).findIndex(n => n === row) % 5;\n  const tempValue = row.innerText;\n  let input;\n\n  switch (index) {\n    case 2:\n      input = document.createElement('select');\n\n      input.innerHTML = `\n        <select>\n          <option value=\"Tokyo\">Tokyo</option>\n          <option value=\"Singapore\">Singapore</option>\n          <option value=\"London\">London</option>\n          <option value=\"New York\">New York</option>\n          <option value=\"Edinburgh\">Edinburgh</option>\n          <option value=\"San Francisco\">San Francisco</option>\n        </select>\n      `;\n      break;\n    case 3:\n      input = document.createElement('input');\n      input.type = 'number';\n      input.placeholder = 'age 18 - 90';\n      break;\n    case 4:\n      input = document.createElement('input');\n      input.type = 'number';\n      input.placeholder = 'just a number';\n      break;\n    default:\n      input = document.createElement('input');\n      input.type = 'text';\n  }\n\n  row.innerText = '';\n  row.append(input);\n  input.focus();\n\n  input.onblur = function() {\n    inputValidation(index);\n  };\n\n  input.addEventListener('keydown', (ev) => {\n    if (ev.code !== 'Enter') {\n      return;\n    }\n\n    inputValidation(index);\n  });\n\n  const inputValidation = (i) => {\n    if (input.value !== '') {\n      switch (i) {\n        case 0:\n          if (input.value.length < 4) {\n            row.innerText = tempValue;\n\n            pushNotification(450, 20, 'Error',\n              'Check your entries, please', 'error');\n            break;\n          }\n          row.innerText = input.value;\n          break;\n        case 3:\n          if (input.value < 18 || input.value > 90) {\n            row.innerText = tempValue;\n\n            pushNotification(450, 20, 'Error',\n              'Check your entries, please', 'error');\n            break;\n          }\n          row.innerText = input.value;\n          break;\n        case 4:\n          if (input.value < 0) {\n            row.innerText = tempValue;\n\n            pushNotification(450, 20, 'Error',\n              'Check your entries, please', 'error');\n            break;\n          }\n          row.innerText = `$${numberWithComma(input.value)}`;\n          break;\n        default:\n          row.innerText = input.value;\n      }\n    } else {\n      row.innerText = tempValue;\n    }\n    input.remove();\n  };\n});\n"]}